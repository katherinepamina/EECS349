<!DOCTYPE html>
<html>
	<head>
		<title>What Makes a Song?</title>
		<link rel="stylesheet" type="text/css" href="style.css">
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
		<script src="script.js"></script>
	</head>
	<body>
		<div id="navbar">
			<ul>
				<li onclick="$('#intro').scrollView()">Introduction  |</li>
				<li onclick="$('#data').scrollView()">Data  |</li>
				<li onclick="$('#soln').scrollView()">Solution  |</li>
				<li onclick="$('#results').scrollView()">Results |</li>
				<li onclick="$('#note').scrollView()">A Note |</li>
				<li onclick="$('#full').scrollView()">Full Report |</li>
				<li onclick="$('#contact').scrollView()">Contact</li>
			</ul>
		</div>
		<div id="container">
			<div id="header">
				<h1 id="title">What Makes a Song?</h1>
				<p>
					In which we predict a song's popularity<br>
					by analyzing its metadata.

					<br><br><br><br>
					Katherine Lin and Rudolf Newman<br><br>
					EECS 349: Machine Learning<br>
					Northwestern University<br>
					Professor Downey<br>
					
				</p>
			</div>
			<div class="content">
				<br>
				<h2 id="intro">Introduction</h2>
				<p>
					What determines whether a song will top the charts or linger forever in some unknown corner of Youtube?  Our project aims to generate an accurate predictor of the popularity of a song.  A reliable hit predictor could be invaluable to several key players in the music industry.  Record companies wishing to discover new talent would be able to do so without hearing artists in person.  Singers themselves would learn what kinds of songs are most likely to project them into stardom.  Songwriters would know how to tailor songs to maximize popularity.<br><br>
					It is also interesting and worthwhile from a cultural standpoint to evaluate the ways in which factors contributing to a song's popularity have varied over time.  It is our secondary aim to gain insight into whether the nature of popular songs has changed over the decades.  
				</p><br>
				<h2 id="data">Data</h2>
				<p>
					We used the <a href="http://labrosa.ee.columbia.edu/millionsong/">Million Song Dataset </a> (MSD), a collection of audio features and metadata of popular songs.  The subset that we used included the following seven attributes taken directly from the MSD:
					<ul>
						<li>the <b>key</b> that the song is in</li>
						<li>its <b>loudness</b> in decibels</li>
						<li>whether it is major or minor (<b>mode</b>)</li>
						<li><b>tempo</b> in beats per minute</li>
						<li>release <b>year</b></li>
						<li>the <b>time signature</b> in number of beats per bar</li>
						<li>and <b>popularity</b></li>
					</ul>
				</p><br>
				
				<h2 id="soln">Solution</h2>
				<p>
					We tested a variety of classifiers in Weka, finally settling on the REPTree decision tree classifier.  This was determined to be the most successful classifier, as it resulted in the smallest root mean squared error when predicting the song popularity.  The REPTree algorithm uses regression tree logic and creates multiple trees over different iterations.  From these, it selects the best tree.  It minimizes overfitting by using reduced error pruning.<br><br> 

					We then tuned the classifier to find the best parameters for the algorithm.  Our final model resulted in a root mean squared error of 0.1051 for the training set.  Evaluating the test set with this model yielded an error of 0.0693.  Zero R was used as a baseline for comparison, and it returned a root mean squared error of 0.2475 for the training set and 0.2461 for the test set.  The figure below shows the performance of our model.  Song popularity is measured on a continuous scale from 0.0 to 1.0.<br><br>
					<img src="modelperformance.png">
				</p><br>
				<h2 id="results">Key Results</h2>
				<p>
					Our decision tree model suggests that loudness, tempo, and mode are the major factors in determining whether a song will be popular or not.  In particular, louder songs are generally predicted to be more popular than their quieter counterparts.  Faster songs are preferred over slower ones.  Songs in major keys tend to be better received than those in minor keys.  <br><br>
					We also wondered whether the factors affecting song popularity have changed over the decades.  Our model indicates that louder songs have recently become more popular.  For instance, it predicts that songs before 1969 that are quieter will have a popularity of 0.61/1.0, whereas songs that are louder are predicted to have a popularity of 0.0/1.0 if the key is minor and 0.27/1.0 if it's in a major key.  More analysis should be done to see whether this trend holds in instances outside our dataset.<br><br>
					Below is a snippet of our tree: <br><br>
					<img src="treesnip.png"> 

				</p><br><br>
				<h2 id="note">A Note</h2>
				<p>
					Music analysis through systems such as Shazam and Spotify allows people in the pop music business to identify popular songs through big data rather than relying solely on experts.  This poses interesting questions regarding creativity, innovation, and artistry.   While analytics may allow for better understanding of the tastes of the crowd, there is also concern that producing songs under these guidelines would affect the quality and direction of music in the future.  There are limitations to what a dataset can express, and in the end, music is human and can only be as predictable as we are.
					<br> 
				</p><br>
				<h2 id="full">Full Report</h2>
				<p>
					Read a <a href="report.pdf">detailed report</a> and check out a <a href="tree.txt">longer version</a> of the tree!
				<p><br>
				<h2 id="contact">Contact</h2>
				<p>
					katherinelin2016@u.northwestern.edu<br>
					rudolfnewman2017@u.northwestern.edu
				<p><br>
			</div>
		</div>
	</body>
</html>